function loadPopperJs(t){let e=document.createElement("script");e.src="https://unpkg.com/@popperjs/core@2",e.defer=!0,e.onload=t,document.head.appendChild(e)}function closeAlert(t){let e=t.currentTarget,i=e.closest('[role="alert"]');i&&i.parentNode.removeChild(i)}function initAlert(){document.querySelectorAll("[data-dui-dismiss='alert']").forEach(t=>{t.addEventListener("click",closeAlert)})}initAlert(),initCollapse(),initModal(),initTabs(),loadPopperJs(()=>{initDropdowns(),initPopovers(),initTooltips()});class Dropdown{constructor(t){this.dropdown=t,this.button=this.dropdown.querySelector('[data-dui-toggle="dropdown"]'),this.menu=this.dropdown.querySelector('[data-dui-role="menu"]'),this.popperInstance=null,this.placement=this.dropdown.getAttribute("data-dui-placement")||"bottom-start",this.init()}init(){this.popperInstance=Popper.createPopper(this.button,this.menu,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.button.addEventListener("click",t=>{t.stopPropagation(),this.toggleDropdown()}),document.addEventListener("click",t=>{this.dropdown.contains(t.target)||this.closeDropdown()})}toggleDropdown(){let t="true"===this.button.getAttribute("aria-expanded");this.button.setAttribute("aria-expanded",!t),this.menu.hidden=t,this.menu.classList.toggle("hidden",t),this.popperInstance.update(),this.closeSiblings()}closeDropdown(){this.button.setAttribute("aria-expanded",!1),this.menu.hidden=!0,this.menu.classList.add("hidden")}closeSiblings(){let t=this.dropdown.parentElement.querySelectorAll('[data-dui-role="menu"]:not(.hidden)');t.forEach(t=>{t!==this.menu&&(t.classList.add("hidden"),t.parentElement.querySelector('[data-dui-toggle="dropdown"]').setAttribute("aria-expanded",!1))})}}function initDropdowns(){let t=document.querySelectorAll(".dropdown");t.forEach(t=>{new Dropdown(t)})}function toggleCollapse(t){let e=t.currentTarget.getAttribute("data-dui-target")||t.currentTarget.getAttribute("href");if(e.startsWith("#")){let i=document.querySelector(e),o="true"===t.currentTarget.getAttribute("aria-expanded");i.style.maxHeight=o?"0":i.scrollHeight+"px",t.currentTarget.setAttribute("aria-expanded",!o)}}function initCollapse(){document.querySelectorAll("[data-dui-toggle='collapse']").forEach(t=>{t.addEventListener("click",toggleCollapse)})}function toggleModal(t){let e=t.currentTarget.getAttribute("data-dui-target"),i=document.querySelector(e);if(i){let o=i.classList.contains("pointer-events-none");i.classList.toggle("opacity-0",!o),o?i.classList.remove("pointer-events-none"):setTimeout(()=>i.classList.add("pointer-events-none"),300),i.classList.toggle("opacity-100",o);let l=i.querySelector(o?".scale-95":".scale-100");l.classList.toggle("scale-95",!o),l.classList.toggle("scale-100",o),i.setAttribute("aria-hidden",!o)}}function closeModal(t){let e=t.currentTarget.closest(".fixed");if(e){e.classList.add("opacity-0"),e.classList.remove("opacity-100");let i=e.querySelector(".scale-100");i.classList.add("scale-95"),i.classList.remove("scale-100"),setTimeout(()=>{e.classList.add("pointer-events-none"),e.setAttribute("aria-hidden","true")},300)}}function initModal(){document.querySelectorAll("[data-dui-toggle='modal']").forEach(t=>{t.addEventListener("click",toggleModal)}),document.querySelectorAll("[data-dui-dismiss='modal']").forEach(t=>{t.addEventListener("click",closeModal)})}function initPopovers(){let t=document.querySelectorAll("[data-dui-toggle='popover']");t.forEach(t=>{let e=t.getAttribute("data-dui-content"),i=t.getAttribute("data-dui-placement"),o=t.getAttribute("data-dui-popover-class"),l=null,a=null;t.addEventListener("click",n=>{if(n.stopPropagation(),l){l.destroy(),l=null,a.remove(),a=null;return}(a=document.createElement("div")).className=o,a.textContent=e,document.body.appendChild(a),l=Popper.createPopper(t,a,{placement:i,modifiers:[{name:"offset",options:{offset:[0,8]}},]}),t._popoverInstance=l,t._popoverElement=a})})}function initTooltips(){let t=document.querySelectorAll("[data-dui-toggle='tooltip']");t.forEach(t=>{let e=t.getAttribute("data-dui-title"),i=t.getAttribute("data-dui-placement"),o=t.getAttribute("data-dui-tooltip-class"),l=null,a=null;function n(){a||((a=document.createElement("div")).className=o,a.textContent=e,document.body.appendChild(a),l=Popper.createPopper(t,a,{placement:i,modifiers:[{name:"offset",options:{offset:[0,8]}},]}))}function s(){a&&!t.classList.contains("static-tooltip")&&(l.destroy(),l=null,a.remove(),a=null)}t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",s),t.addEventListener("click",()=>{t.classList.contains("static-tooltip")?(t.classList.remove("static-tooltip"),s()):(t.classList.add("static-tooltip"),n())})})}function initTabs(){document.querySelectorAll(".tab-group").forEach(t=>{let e=t.querySelector("[role='tablist']"),i=e.querySelectorAll(".tab-link"),o=t.querySelectorAll(".tab-content"),l=e.querySelector(".tab-indicator");function a(t){let i=t.getBoundingClientRect(),o=e.getBoundingClientRect();l.style.width=`${i.width}px`,l.style.transform=`translateX(${i.left-o.left}px)`}i.forEach(t=>{if(t.classList.contains("active")){a(t);let e=document.getElementById(t.getAttribute("data-dui-tab-target"));e.classList.add("block"),e.classList.remove("hidden")}t.addEventListener("click",e=>{e.preventDefault(),o.forEach(t=>{t.classList.add("hidden"),t.classList.remove("block")});let i=document.getElementById(t.getAttribute("data-dui-tab-target"));i.classList.add("block"),i.classList.remove("hidden"),a(t)})})})}